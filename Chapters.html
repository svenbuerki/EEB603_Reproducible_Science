<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Sven Buerki - Boise State University" />

<meta name="date" content="2021-09-13" />

<title>EEB 603 – Reproducible Science</title>

<script src="site_libs/header-attrs-2.6/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Reproducible Science</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Timetable.html">Timetable</a>
</li>
<li>
  <a href="Chapters.html">Chapters</a>
</li>
<li>
  <a href="Resources.html">Resources</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">EEB 603 – Reproducible Science</h1>
<h3 class="subtitle">Chapters</h3>
<h4 class="author">Sven Buerki - Boise State University</h4>
<h4 class="date">2021-09-13</h4>

</div>


<script type="text/javascript">
$(document).ready(function() {
  $('#header').parent().prepend('<div id=\"logo\"><img src=\"Images/boisestate-primarylogo-2color-rgb.png\" style=\"position:absolute; top:0; right:0; padding:10px; height:120px\"></div>');
  $('#header').css('margin-right', '120px')
});
</script>
<div id="chapter-1" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Chapter 1</h1>
<div id="introduction" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Introduction</h2>
<p>In this chapter, we will introduce the bioinformatic tools to write and disseminate reproducible reports as implemented in RStudio. More specifically, we will learn procedures to link and execute data and code into a unified environment (see Figure <a href="#fig:ReproScience">1.1</a>). This chapter focuses on learning the R Markdown syntax and protocols allowing to include text, code, figures, tables and bibliography into a document. This document will then be compiled into an output file (in either <code>pdf</code>, <code>HTML</code> or <code>Word</code> formats) allowing sharing your research. More specifically, this tutorial provides students with the minimum knowledge allowing them to complete their bioinformatic tutorials (PART 2) and individual projects (PART 3). The chapter will be subdivided into four parts as follows:</p>
<ul>
<li><strong>PART A:</strong> Learning the basics.</li>
<li><strong>PART B:</strong> Tables, Figures and References.</li>
<li><strong>PART C:</strong> Advanced R Markdown settings.</li>
<li><strong>PART D:</strong> User Defined Functions in R.</li>
<li><strong>PART E:</strong> Interactive tutorials.</li>
</ul>
<div class="figure"><span id="fig:ReproScience"></span>
<img src="Figures/Fig1.png" alt="The spectrum of reproducibility." width="100%" />
<p class="caption">
Figure 1.1: The spectrum of reproducibility.
</p>
</div>
<div id="learning-outcomes" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Learning outcomes</h3>
<p>This chapter provides students with opportunities to learn procedures to:</p>
<ul>
<li>Install R Markdown on your computer.</li>
<li>Create and render (or knitting) your first R Markdown document.</li>
<li>Execute basic R Markdown syntax and protocols.</li>
<li>Develop pseudocode and implement it using the R language.</li>
<li>Create your own functions (referred to as user-defined functions).</li>
</ul>
</div>
<div id="Files" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Files supporting this tutorial</h3>
<p>Although less used in PART A, a set of files are provided to support teaching of material presented in this chapter. These files are deposited in the shared Google Drive at this path:</p>
<ul>
<li><code>Reproducible_Science/Chapters/Chapter_1/Tutorial_files</code></li>
</ul>
<p>Files are as follows:</p>
<ul>
<li><code>EEB603_Syllabus_BUERKI.Rmd</code>: This is the <code>.Rmd</code> file used to compile the syllabus of this class. This file provides a good source of information for the syntax and protocols described in this tutorial.</li>
<li><code>Bibliography_Reproducible_Science_2.bib</code>: This file contains references cited in <code>BibTex</code> format.</li>
<li><code>AmJBot.csl</code>: This citation style language (CSL) file allows formatting citations and bibliography following citation style of <em>American Journal of Botany</em>.</li>
<li><code>Bioinformatic workflow_PART2.pdf</code>: A <code>pdf</code> file containing the bioinformatic workflow taught in this class. This file will be used to learn how to incorporate a figure into R Markdown file.</li>
</ul>
</div>
<div id="install-r-markdown-software" class="section level3" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> Install R Markdown software</h3>
<p>Software and packages required to perform this tutorial are detailed below. Students should install those software and packages on their personal computers to be able to complete this course. Additional packages might need to be installed and the instructor will provide guidance on how to install those as part of the forthcoming tutorials.</p>
<ul>
<li><strong>R</strong>: <a href="https://www.r-project.org" class="uri">https://www.r-project.org</a></li>
<li><strong>R packages</strong>: <code>bookdown</code>, <code>knitr</code> and <code>R Markdown</code>. Use the following R command to install those packages:</li>
</ul>
<pre class="r"><code>install.packages(c(&quot;bookdown&quot;, &quot;knitr&quot;, &quot;rmarkdown&quot;))</code></pre>
<ul>
<li><strong>RStudio</strong>: <a href="https://www.rstudio.com/products/rstudio/download/" class="uri">https://www.rstudio.com/products/rstudio/download/</a></li>
<li><strong>TeX</strong>: This software is required to compile document into <code>pdf</code> format. Please install MiKTeX on Windows, MacTeX on OS X and TeXLive on Linux.</li>
</ul>
</div>
<div id="rstudio" class="section level3" number="1.1.4">
<h3><span class="header-section-number">1.1.4</span> RStudio</h3>
<p>RStudio is an integrated development environment (IDE) that allows you to interact with R more readily. RStudio is similar to the standard RGUI, but it is considerably more user friendly. It has more drop-down menus, windows with multiple tabs, and many customization options (see Figure <a href="#fig:IDE">1.2</a>). Detailed information on using RStudio can be found at at <a href="https://support.rstudio.com/hc/en-us/sections/200107586-Using-RStudio">RStudio’s website</a>.</p>
<div class="figure"><span id="fig:IDE"></span>
<img src="Figures/IDE.png" alt="Snapshot of the RStudio environment showing the four windows and their content." width="100%" />
<p class="caption">
Figure 1.2: Snapshot of the RStudio environment showing the four windows and their content.
</p>
</div>
</div>
<div id="web-resources" class="section level3" number="1.1.5">
<h3><span class="header-section-number">1.1.5</span> Web resources</h3>
<p>Please find below URLs to webpages that are providing key information for chapter 1:</p>
<ul>
<li><strong>R Markdown:</strong> <a href="https://RMarkdown.rstudio.com" class="uri">https://RMarkdown.rstudio.com</a></li>
<li><strong>R Markdown: The Definitive Guide (by Yihui Xie, J. J. Allaire, Garrett Grolemund):</strong> <a href="https://bookdown.org/yihui/RMarkdown/" class="uri">https://bookdown.org/yihui/RMarkdown/</a></li>
<li><strong>Write HTML, PDF, ePub, and Kindle books with R Markdown:</strong> <a href="https://bookdown.org" class="uri">https://bookdown.org</a></li>
<li><strong>bookdown: Authoring Books and Technical Documents with R Markdown (by Yihui Xie):</strong> <a href="https://bookdown.org/yihui/bookdown/" class="uri">https://bookdown.org/yihui/bookdown/</a></li>
<li><strong>knitr:</strong> <a href="http://yihui.name/knitr/" class="uri">http://yihui.name/knitr/</a></li>
<li><strong>Pandoc: A universal document converter:</strong> <a href="https://pandoc.org" class="uri">https://pandoc.org</a></li>
<li><strong>Bibliographies and Citations in R Markdown:</strong> <a href="https://RMarkdown.rstudio.com/authoring_bibliographies_and_citations.html" class="uri">https://RMarkdown.rstudio.com/authoring_bibliographies_and_citations.html</a></li>
<li><strong>Tutorial on knitr with R Markdown (by Karl Broman):</strong> <a href="http://kbroman.org/knitr_knutshell/pages/RMarkdown.html" class="uri">http://kbroman.org/knitr_knutshell/pages/RMarkdown.html</a></li>
</ul>
</div>
</div>
<div id="part-a-learning-the-basics" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> PART A: Learning the basics</h2>
<p>In this part, we will provide a survey of the procedures to create and render (or knitting) your first R Markdown document.</p>
<div id="introduction-to-r-markdown" class="section level3" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Introduction to R Markdown</h3>
<p>Markdown is a simple formatting syntax language used for authoring HTML, PDF, and MS Word documents, which is implemented in the <code>rmarkdown</code> package. An R Markdown document is usually subdivided into three sections (see Figure <a href="#fig:RMdown">1.3</a>):</p>
<ol style="list-style-type: decimal">
<li><strong>YAML metadata section:</strong> This section provides high level information about the output format of the R Markdown file. Information stored in this section will be used by the Pandoc program to format the output document (see Figure <a href="#fig:RMdown">1.3</a>).</li>
<li><strong>Publication core text:</strong> This section represents the core of your document/publication and uses Markdown syntax.</li>
<li><strong>Code chunk:</strong> This section allows to import and analyze data as well as produce figures and tables that will be directly displayed in the output file.</li>
</ol>
<div class="figure"><span id="fig:RMdown"></span>
<img src="Figures/Presentation_RMarkdown.png" alt="Example of an R Markdown file showing the three major sections." width="100%" />
<p class="caption">
Figure 1.3: Example of an R Markdown file showing the three major sections.
</p>
</div>
</div>
<div id="creating-an-r-markdown-file" class="section level3" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Creating an R Markdown file</h3>
<div class="figure" style="text-align: center"><span id="fig:RMdownscreen"></span>
<img src="Figures/Create_RMarkdown.png" alt="Snapshot of window to create an R Markdown file." width="40%" />
<p class="caption">
Figure 1.4: Snapshot of window to create an R Markdown file.
</p>
</div>
<p>To create an R Markdown document execute the following steps in RStudio:</p>
<ol style="list-style-type: decimal">
<li>Select: <code>File -&gt; New File -&gt; R Markdown...</code></li>
<li>Provide title for the document and define <code>Default output format</code> (see Figure <a href="#fig:RMdownscreen">1.4</a>).
If you want to knit your document in <code>pdf</code> format, a version of the <code>TeX</code> program has to be installed on your computer (see Figure <a href="#fig:RMdownscreen">1.4</a>).</li>
<li>Save the <code>.Rmd</code> document (using <code>File -&gt; Save As...</code>). Save this file in a new folder devoted to the project (<strong>Warning:</strong> Knitting the document will generate several files).</li>
</ol>
</div>
<div id="rendering-or-knitting-an-r-markdown-document" class="section level3" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> Rendering (or knitting) an R Markdown document</h3>
<p>To render or knit <img src="Figures/knit_2.png" /> your R Markdown document/script into the format specified in the YAML metadata section do the following steps in RStudio:</p>
<ol style="list-style-type: decimal">
<li>Select the <code>Knit</code> button (Figure <a href="#fig:RMdown">1.3</a>) in the upper bar of your window to render document.</li>
<li>There are several options depending on the output format; however if you just push the button it will automatically knit the document following settings provided in the YAML metadata section (Figure <a href="#fig:RMdown">1.3</a>).</li>
<li>The output file will automatically be created in the same directory as the <code>.Rmd</code> file. You can track progress in the <code>R Markdown</code> console. If the knitting fails, error messages will be printed in the <code>R Markdown</code> console (including information on which line of the script the error occurred, but it might not always be the case). Error messages are very useful to debug your R Markdown document.</li>
</ol>
</div>
<div id="how-does-the-knitting-process-work" class="section level3" number="1.2.4">
<h3><span class="header-section-number">1.2.4</span> <a name="compilation"></a>How does the knitting process work?</h3>
<p>When you knit your document, R Markdown will feed the <code>.Rmd</code> file to the R <em>knitr</em> package, which executes all of the code chunks and creates a new markdown (<code>.md</code>) document. This latter document includes the code and its output (Figure <a href="#fig:Rflow">1.5</a>). The markdown file generated by <code>knitr</code> is then processed by the Pandoc program, which is responsible for creating the finished format (Figure <a href="#fig:Rflow">1.5</a>).</p>
<div class="figure"><span id="fig:Rflow"></span>
<img src="Figures/rmarkdownflow.png" alt="R Markdown flow." width="100%" />
<p class="caption">
Figure 1.5: R Markdown flow.
</p>
</div>
</div>
<div id="basic-r-markdown-syntax-and-protocols" class="section level3" number="1.2.5">
<h3><span class="header-section-number">1.2.5</span> Basic R Markdown syntax and protocols</h3>
<p>We will focus here on learning the syntax and protocols to produce:</p>
<ul>
<li>Headers.</li>
<li>Lists.</li>
<li>Italicize and bold words.</li>
<li>Embed code chunks and inline code.</li>
<li>Check spelling.</li>
</ul>
<p>More syntax are available in the R Markdown Reference Guide. You can access this document as follows in RStudio:</p>
<ul>
<li>Select: <code>Help -&gt; Cheatsheets -&gt; R Markdown Reference Guide</code></li>
</ul>
<p><strong>Notice:</strong> The Cheatsheet section also allows accessing additional supporting documents related to R Markdown and Data manipulation. Those documents will be very useful for this class.</p>
</div>
<div id="headers" class="section level3" number="1.2.6">
<h3><span class="header-section-number">1.2.6</span> Headers</h3>
<p>Please find below the syntax to create headers (3 levels):</p>
<p>Syntax:</p>
<pre class="r"><code>The &quot;#&quot; refers to the level of the header
# Header 1  
## Header 2  
### Header 3  </code></pre>
</div>
<div id="lists" class="section level3" number="1.2.7">
<h3><span class="header-section-number">1.2.7</span> Lists</h3>
<p>There are two types of lists:</p>
<ul>
<li>Unordered</li>
<li>Ordered</li>
</ul>
<div id="syntax-for-unordered-lists" class="section level4" number="1.2.7.1">
<h4><span class="header-section-number">1.2.7.1</span> Syntax for unordered lists</h4>
<p>Syntax:</p>
<pre class="r"><code>* unordered list
* item 2
  + sub-item 1
  + sub-item 2</code></pre>
<p><strong>Note:</strong> For each sub-level include two tabs to create the hierarchy.</p>
<p>Output:</p>
<ul>
<li>unordered list</li>
<li>item 2
<ul>
<li>sub-item 1</li>
<li>sub-item 2</li>
</ul></li>
</ul>
</div>
<div id="syntax-for-ordered-lists" class="section level4" number="1.2.7.2">
<h4><span class="header-section-number">1.2.7.2</span> Syntax for ordered lists</h4>
<p>Syntax:</p>
<pre class="r"><code>1. ordered list
2. item 2
   + sub-item 1
   + sub-item 2</code></pre>
<p>Output:</p>
<ol style="list-style-type: decimal">
<li>ordered list</li>
<li>item 2
<ul>
<li>sub-item 1</li>
<li>sub-item 2</li>
</ul></li>
</ol>
</div>
</div>
<div id="italicize-and-bold-words" class="section level3" number="1.2.8">
<h3><span class="header-section-number">1.2.8</span> Italicize and bold words</h3>
<p>The following syntax will render text in italics or bold:</p>
<pre class="r"><code>#Syntax for italics
*italics*

#Syntax for bold
**bold**</code></pre>
</div>
<div id="embed-code-chunks-and-inline-code" class="section level3" number="1.2.9">
<h3><span class="header-section-number">1.2.9</span> Embed code chunks and inline code</h3>
<p>One of the most exciting features of working with the R Markdown format is the implementation of functions allowing to directly “plug” the output of R code into the compiled document (see Figure <a href="#fig:Rflow">1.5</a>). In other words, when you compile your <code>.Rmd</code> file, R Markdown will automatically run and process each code chunk and code lines and embed their results in your final document. If the output of the code is a table or a figure, you will be able to assign a label to this item (by adding information in the code chunk; see part B) and refer to it (= cross-referencing) in your <code>pdf</code> or <code>html</code> document. Cross-referencing is possible thanks to the <code>\@ref()</code> function implemented in the R <code>bookdown</code> package.</p>
<div id="code-chunk" class="section level4" number="1.2.9.1">
<h4><span class="header-section-number">1.2.9.1</span> Code chunk</h4>
<p>A code chunk could easily be inserted in your document as follows:</p>
<ul>
<li>Using the keyboard shortcut <strong>Ctrl + Alt + I</strong> (OS X: <strong>Cmd + Option + I</strong>).</li>
<li>Pressing on the <code>Insert</code> button <img src="Figures/insert.png" /> in the editor toolbar.</li>
<li>Typing ```{r} and ````.</li>
</ul>
<p>By default the code chunk will expect R code, but you can also insert code chunks supporting different computer languages (e.g. Bash, Python).</p>
</div>
<div id="chunk-options" class="section level4" number="1.2.9.2">
<h4><span class="header-section-number">1.2.9.2</span> Chunk options</h4>
<p>Chunk output can be customized with <em>knitr</em> options arguments set in the <code>{}</code> of a chunk header. In the examples displayed in Figure <a href="#fig:RChunk">1.6</a> five arguments are used:</p>
<ul>
<li><code>include = FALSE</code> prevents code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks.</li>
<li><code>echo = FALSE</code> prevents code, but not the results from appearing in the finished file. This is a useful way to embed figures.</li>
<li><code>message = FALSE</code> prevents messages that are generated by code from appearing in the finished file.</li>
<li><code>warning = FALSE</code> prevents warnings that are generated by code from appearing in the finished.</li>
<li><code>fig.cap = "..."</code> adds a caption to graphical results.</li>
</ul>
<p>We will delve more into chunk options in part C of chapter 1, but in the meantime please see the R Markdown Reference Guide for more details.</p>
<div class="figure"><span id="fig:RChunk"></span>
<img src="Figures/code-1-options.png" alt="Example of code chunks." width="100%" />
<p class="caption">
Figure 1.6: Example of code chunks.
</p>
</div>
</div>
</div>
<div id="inline-code" class="section level3" number="1.2.10">
<h3><span class="header-section-number">1.2.10</span> Inline code</h3>
<p>Code results can be inserted directly into the text of a <code>.Rmd</code> file by enclosing the code with <code>r</code>.</p>
<p>R Markdown will always:</p>
<ul>
<li>Display the results of inline code, but not the code.</li>
<li>Apply relevant text formatting to the results.</li>
</ul>
<p>As a result, inline output is indistinguishable from the surrounding text. <strong>Warning:</strong> Inline expressions do not take <em>knitr</em> options and is therefore less versatile. We usually use inline code to perform simple stats (e.g. 4x4; 16)</p>
</div>
<div id="check-spelling" class="section level3" number="1.2.11">
<h3><span class="header-section-number">1.2.11</span> Check spelling</h3>
<p>There are three ways to access spell checking in an R Markdown document in RStudio:</p>
<ol style="list-style-type: decimal">
<li>A spell check button <img src="Figures/ABC.png" /> to the right of the save button.</li>
<li><code>Edit &gt; Check Spelling...</code></li>
<li>The F7 key.</li>
</ol>
</div>
<div id="exercises" class="section level3" number="1.2.12">
<h3><span class="header-section-number">1.2.12</span> Exercises</h3>
<p>Students will work individually to complete the following exercises:</p>
<ol style="list-style-type: decimal">
<li>Create an <code>*.Rmd</code> file entitled <code>Exercises chapter 1: part A</code> and select <code>HTML</code> as output format.</li>
<li>Save this document as <code>Exe_chap1_partA.Rmd</code> in a sub-folder called <code>Exercises</code> located in:</li>
</ol>
<ul>
<li><code>Reproducible_Science/Chapters/Chapter_1</code></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Practice syntax to do:</li>
</ol>
<ul>
<li>headers,</li>
<li>lists,</li>
<li>include R code chunk and inline code.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Confirm that your syntax works by knitting your document and inspecting the output.</li>
</ol>
<p>To further learn syntax and protocols, please look at associated files provided by the instructor (see above for more details).</p>
</div>
</div>
<div id="part-b-tables-figures-and-references" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> PART B: Tables, Figures and References</h2>
<p>The aim of this tutorial is to provide students with the expertise to generate reproducible reports using <em>bookdown</em> <span class="citation">(<a href="#ref-bookdown2016" role="doc-biblioref">Xie, 2016</a>, <a href="#ref-R-bookdown" role="doc-biblioref">2020a</a>)</span> and allied R packages (see <a href="#appendix-1">Appendix 1</a> for a full list). Unlike functions implemented in the R <em>rmarkdown</em> package <span class="citation">(<a href="#ref-rmarkdown2018" role="doc-biblioref">Xie et al., 2018</a>, which was better suited to generating <code>PDF</code> reproducible reports)</span>, <em>bookdown</em> allows to use ONE unified set of functions to generate <code>HTML</code> and <code>PDF</code> documents. In addition, the same approach and functions are used to process tables and figures as well as cross-reference those in the main body of the text. In this tutorial, we will also cover procedures to cite references in the text, automatically generate a bibliography/references section and format citations to journal styles as well as generating an Appendix containing citations of all R packages used to conduct your research (and produce the report).</p>
<div id="learning-outcomes-1" class="section level3" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> Learning outcomes</h3>
<p>This tutorial is devoted to part B of chapter 1 and provides students with opportunities to learn procedures to:</p>
<ul>
<li>Set your R Markdown environment:
<ul>
<li>Install dependencies.</li>
<li>YAML metadata section.</li>
<li>Load required R packages.</li>
<li>Generate citation file of R packages used to produce the report.</li>
<li>Generate Appendix with citations for all R packages.</li>
<li>Generate Appendix with R package versions used to produce report.</li>
</ul></li>
<li>Insert tables and figures in R Markdown document.</li>
<li>Cross-reference tables and figures in the text.</li>
<li>Cite references in the text and add a bibliography/references section.</li>
<li>Format citations to journal styles.</li>
</ul>
</div>
<div id="associated-files-supporting-this-tutorial" class="section level3" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> Associated files supporting this tutorial</h3>
<p>Please refer to <a href="#Files">section</a> for more details on supporting files and their locations on the shared Google Drive.</p>
</div>
<div id="set-your-r-markdown-environment" class="section level3" number="1.3.3">
<h3><span class="header-section-number">1.3.3</span> Set your R Markdown environment</h3>
<div id="install-dependencies" class="section level4" number="1.3.3.1">
<h4><span class="header-section-number">1.3.3.1</span> Install dependencies</h4>
<p>To execute this tutorial the following R packages have to be installed on your computer using code provided below:</p>
<pre class="r"><code>install.packages(c(&quot;knitr&quot;, &quot;rmarkdown&quot;, &quot;bookdown&quot;, &quot;formattable&quot;, 
    &quot;kableExtra&quot;, &quot;dplyr&quot;, &quot;magrittr&quot;, &quot;prettydoc&quot;, &quot;htmltools&quot;, 
    &quot;knitcitations&quot;))</code></pre>
</div>
<div id="tex-distribution" class="section level4" number="1.3.3.2">
<h4><span class="header-section-number">1.3.3.2</span> TeX distribution</h4>
<p>If you are planning to create <code>PDF</code> documents, you will need to install a <code>TeX</code> distribution on your computers. Please refer to this website for more details: <a href="https://www.latex-project.org/get/" class="uri">https://www.latex-project.org/get/</a></p>
<div id="set-miktex-for-compiling-pdf-documents-on-windows-computers" class="section level5" number="1.3.3.2.1">
<h5><span class="header-section-number">1.3.3.2.1</span> Set MiKTeX for compiling PDF documents on Windows computers</h5>
<p>Several students working on Windows computers shared difficulties in compiling <code>PDF</code> documents in RStudio. This issue is associated to <code>MiKTeX</code> preventing RStudio to install or update <code>TeX</code> packages required to knit your documents.</p>
<p>To solve this issue apply the following procedure:</p>
<ol style="list-style-type: decimal">
<li>Start <code>MiKTeX</code> console by searching and clicking <code>MiKTeX Console</code> in the application launcher.</li>
<li>Enable automatic package installation by:</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Clicking on <code>Settings</code> tab.</li>
<li>Ticking the radio button <code>Always install missing packages on-the-fly</code> under the “You can choose whether missing packages are to be installed on-the-fly” header ().</li>
</ol>
<ol start="3" style="list-style-type: decimal">
<li>Restarting <code>RStudio</code> and you should be able to knit <code>pdf</code> documents.</li>
</ol>
<div class="figure"><span id="fig:MikTex"></span>
<img src="Figures/MikTex.png" alt="Snapshot of the MikTex Console showing the procedure to always install packages on-the-fly." width="100%" />
<p class="caption">
Figure 1.7: Snapshot of the MikTex Console showing the procedure to always install packages on-the-fly.
</p>
</div>
</div>
</div>
<div id="yaml-metadata-section" class="section level4" number="1.3.3.3">
<h4><span class="header-section-number">1.3.3.3</span> YAML metadata section</h4>
<p>The YAML metadata section allows users to provide arguments (refereed to as fields) to convert their R Markdown document into its final form. Here, we will be using functions implemented in the <em>knitr</em> <span class="citation">(<a href="#ref-knitr2015" role="doc-biblioref">Xie, 2015</a>, <a href="#ref-R-knitr" role="doc-biblioref">2020b</a>)</span> and <em>bookdown</em> packages <span class="citation">(<a href="#ref-bookdown2016" role="doc-biblioref">Xie, 2016</a>, <a href="#ref-R-bookdown" role="doc-biblioref">2020a</a>)</span> to define (field names as declared in the YAML metadata section are provided between parenthesis):</p>
<ol style="list-style-type: decimal">
<li>Title (<code>title</code>).</li>
<li>Subtitle (<code>subtitle</code>).</li>
<li>Author(s) (<code>author</code>).</li>
<li>Date (<code>date</code>).</li>
<li>Output format(s) (<code>output</code>).</li>
<li>Citations link (<code>link-citations</code>).</li>
<li>Font size (<code>fontsize</code>).</li>
<li>Bibliography file(s) (<code>bibliography</code>).</li>
<li>Format for citations to follow journal styles (<code>csl</code>).</li>
</ol>
<p>The YAML code provided below outputs either an <code>HTML</code> or <code>PDF</code> document (see <code>output</code> field) with a table of content (see <code>toc</code> field) and generates in text citations and bibliography section as declared in the <code>AmJBot.csl</code> file (under the <code>csl</code> field).</p>
<pre class="r"><code>--- 
title: &#39;Your title&#39;
subtitle: &quot;Your subtitle&quot;
author: &quot;Your name&quot;
date: &quot;`r Sys.Date()`&quot;
output:
  bookdown::html_document2: 
    toc: TRUE
  bookdown::pdf_document2:
    toc: TRUE
link-citations: yes
fontsize: 12pt
bibliography: [Bibliography_Reproducible_Science_2.bib, packages.bib] 
csl: AmJBot.csl
---</code></pre>
<p><strong>Warning:</strong> <code>.bib</code> and <code>.csl</code> files have to be stored in the same working directory as your <code>.Rmd</code> file.</p>
<div id="step-by-step-procedure" class="section level5" number="1.3.3.3.1">
<h5><span class="header-section-number">1.3.3.3.1</span> Step-by-step procedure</h5>
<p>Do the following to set your YAML metadata section:</p>
<ol style="list-style-type: decimal">
<li>Create a new R Markdown document.</li>
<li>Save the <code>.Rmd</code> document into a new project folder in <code>Reproducible_Science/Chapters/Chapter_1/</code>.</li>
<li>Copy <code>Bibliography_Reproducible_Science_2.bib</code> and <code>AmJBot.csl</code> in your project folder. These files are available on the Shared Google Drive folder:</li>
</ol>
<ul>
<li><code>Reproducible_Science/Chapters/Chapter_1/Tutorial_files</code></li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Edit the YAML metadata section as shown in the above code.</li>
</ol>
<p><strong>Note:</strong></p>
<ul>
<li>You can use <code>R</code> functions in the YAML metadata section using inline R code (see part A for more details). Here, we use <code>Sys.Date()</code> to automatically date the output document.</li>
<li>The <code>bibliography</code> field includes two <code>BibTeX</code> files, the first contains your regular citations (of publications cited in the text; see <a href="#the-bibliography-file">The bibliography file</a>), whereas the second is generated by <code>knitr::write_bib()</code> and contains citations for all R packages used to generate this report (see below for more details).</li>
</ul>
</div>
</div>
<div id="knitting-procedure" class="section level4" number="1.3.3.4">
<h4><span class="header-section-number">1.3.3.4</span> Knitting procedure</h4>
<p>Since you have declared two output documents in the YAML metadata section and that those are specific to <code>bookdown</code> functions, you will have to select which output format you want to use to compile your document by clicking on the drop-down list on the left side of the <code>Knit</code> button (see Figure <a href="#fig:knitout">1.8</a>). To use <code>bookdown</code> functions, please make sure to select one of the following options (see Figure <a href="#fig:knitout">1.8</a>): <code>Knit to html_document2</code> or <code>Knit to pdf_document2</code>.</p>
<div class="figure" style="text-align: center"><span id="fig:knitout"></span>
<img src="Figures/knit_drop_down.png" alt="Snapshot of RStudio console showing the drop-down list associated to Knit button." width="100%" />
<p class="caption">
Figure 1.8: Snapshot of RStudio console showing the drop-down list associated to Knit button.
</p>
</div>
</div>
<div id="load-required-r-packages" class="section level4" number="1.3.3.5">
<h4><span class="header-section-number">1.3.3.5</span> Load required R packages</h4>
<p>It is best practice to add an R code chunk directly under the YAML metadata section to load all the required R packages used to produce your report. This feature will also allow to automatically generate a citation file with all R packages used to generate your report (see below). Applying this approach will contribute to improving the reproducibility of your research!</p>
<div id="step-by-step-procedure-1" class="section level5" number="1.3.3.5.1">
<h5><span class="header-section-number">1.3.3.5.1</span> Step-by-step procedure</h5>
<ol style="list-style-type: decimal">
<li>Include an R code chunk directly under your YAML metadata section.</li>
<li>Name code chunk <code>packages</code> and set options line as follows:</li>
</ol>
<ul>
<li><code>echo=FALSE</code>,</li>
<li><code>warning=FALSE</code>,</li>
<li><code>include=FALSE</code>.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Add the following code to load required packages to produce your report:</li>
</ol>
<pre><code>#Load packages
library(knitr)
library(rmarkdown)
library(bookdown)
library(formattable)
library(kableExtra)
library(dplyr)
library(magrittr)
library(prettydoc)
library(htmltools)
library(knitcitations)
library(devtools)</code></pre>
</div>
</div>
<div id="generate-citation-file-of-r-packages-used-to-produce-the-report" class="section level4" number="1.3.3.6">
<h4><span class="header-section-number">1.3.3.6</span> Generate citation file of R packages used to produce the report</h4>
<p>I don’t know about you, but I am always struggling to properly cite R packages in my publications. If you want to retrieve the citation for an R package, you can use the base R function <code>citation()</code>. For instance, citations for <em>knitr</em> can be obtained as follow:</p>
<pre class="r"><code># Generate citation for knitr
citation(&quot;knitr&quot;)</code></pre>
<pre><code>## 
## To cite the &#39;knitr&#39; package in publications use:
## 
##   Yihui Xie (2020). knitr: A General-Purpose Package for Dynamic Report
##   Generation in R. R package version 1.30.
## 
##   Yihui Xie (2015) Dynamic Documents with R and knitr. 2nd edition.
##   Chapman and Hall/CRC. ISBN 978-1498716963
## 
##   Yihui Xie (2014) knitr: A Comprehensive Tool for Reproducible
##   Research in R. In Victoria Stodden, Friedrich Leisch and Roger D.
##   Peng, editors, Implementing Reproducible Computational Research.
##   Chapman and Hall/CRC. ISBN 978-1466561595
## 
## To see these entries in BibTeX format, use &#39;print(&lt;citation&gt;,
## bibtex=TRUE)&#39;, &#39;toBibtex(.)&#39;, or set
## &#39;options(citation.bibtex.max=999)&#39;.</code></pre>
<p>If you want to generate those latter citation entries in <a href="#bibtex-format">BibTeX format</a>, you can pass the returned object of <code>citation()</code> to <code>toBibtex()</code> as follows:</p>
<pre class="r"><code># Generate citation for knitr in BibTex format Note that
# there is no citation identifiers. Those will be
# automatically generated in our next code.
toBibtex(citation(&quot;knitr&quot;))</code></pre>
<pre><code>## @Manual{,
##   title = {knitr: A General-Purpose Package for Dynamic Report Generation in R},
##   author = {Yihui Xie},
##   year = {2020},
##   note = {R package version 1.30},
##   url = {https://yihui.org/knitr/},
## }
## 
## @Book{,
##   title = {Dynamic Documents with {R} and knitr},
##   author = {Yihui Xie},
##   publisher = {Chapman and Hall/CRC},
##   address = {Boca Raton, Florida},
##   year = {2015},
##   edition = {2nd},
##   note = {ISBN 978-1498716963},
##   url = {https://yihui.org/knitr/},
## }
## 
## @InCollection{,
##   booktitle = {Implementing Reproducible Computational Research},
##   editor = {Victoria Stodden and Friedrich Leisch and Roger D. Peng},
##   title = {knitr: A Comprehensive Tool for Reproducible Research in {R}},
##   author = {Yihui Xie},
##   publisher = {Chapman and Hall/CRC},
##   year = {2014},
##   note = {ISBN 978-1466561595},
##   url = {http://www.crcpress.com/product/isbn/9781466561595},
## }</code></pre>
<p>To use citation entries generated from <code>toBibtex()</code>, you have to copy the output to a <code>.bib</code> file and save it in your working directory. You will then be able to cite references found in this document directly in your R Markdown. This can be done by adding the following code to your <code>packages</code> R code chunk:</p>
<pre class="r"><code># Generate BibTex citation file for all R packages used to
# produce report
knitr::write_bib(.packages(), file = &quot;packages.bib&quot;)</code></pre>
<p>The <code>.packages()</code> argument returns the names of all packages loaded in the current R session. This makes sure all packages being used will have their citation entries written to the <code>.bib</code> file. Finally, to be able to cite those references (see <a href="#citation-identifier">Citation identifier</a>) in your text, the <a href="#yaml-metadata-section">YAML metadata section</a> has to be edited. See <a href="#appendix-1">Appendix 1</a> for a full list of references associated to the R packages used to generate this report.</p>
</div>
<div id="generate-appendix-with-citations-for-all-r-packages" class="section level4" number="1.3.3.7">
<h4><span class="header-section-number">1.3.3.7</span> Generate Appendix with citations for all R packages</h4>
<p>Although a bibliography/references section will be provided at the end of your document to cite in text references (see <a href="#references">References</a>), it is customed to add citations for all R packages used to generate the research in <a href="#appendix-1">Appendix 1</a>. We will learn here the procedure to assemble such Appendix.</p>
<div id="step-by-step-procedure-2" class="section level5" number="1.3.3.7.1">
<h5><span class="header-section-number">1.3.3.7.1</span> Step-by-step procedure</h5>
<ol style="list-style-type: decimal">
<li>Include Appendix after bibliography/references section.</li>
</ol>
<ul>
<li>This is done by using <code>&lt;div id="refs"&gt;&lt;/div&gt;</code> as shown below:</li>
</ul>
<pre class="r"><code># References

&lt;div id=&quot;refs&quot;&gt;&lt;/div&gt;

# (APPENDIX) Appendix {-}

# Appendix 1</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Insert an R code chunk directly under <code># Appendix</code> to read in and print citations saved in <code>packages.bib</code>. This is done as follows:</li>
</ol>
<pre class="r"><code>### Load R package
library(&quot;knitcitations&quot;)
### Process and print citations in packages.bib Clear all
### bibliography that could be in the cash
cleanbib()
# Set pandoc as the default output option for bib
options(citation_format = &quot;pandoc&quot;)
# Read and print bib from file
read.bibtex(file = &quot;packages.bib&quot;)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Edit your R code chunk options line as follows to correctly print out references:
<code>{r generateBibliography, results="asis", echo=FALSE, warning = FALSE, message=FALSE}</code></li>
<li>Knit your code to check that it produces the right output (see <a href="#knitting-procedure">Knitting procedure</a>). See <a href="#appendix-1">Appendix 1</a> to get an idea of the output.</li>
</ol>
</div>
</div>
<div id="generate-appendix-with-r-package-versions-used-to-produce-report" class="section level4" number="1.3.3.8">
<h4><span class="header-section-number">1.3.3.8</span> Generate Appendix with R package versions used to produce report</h4>
<p>In addition to providing citations to R packages, you might also would like to provide full information on R package versions and your operating systems. With R, the simplest (but a useful and important) approach to document your R environment is to report the output of <code>sessionInfo()</code> (or <code>devtools::session_info()</code>). Among other information, this will show all the packages and their versions that are loaded in the session you used to run your analysis. If someone
wants to recreate your analysis, they will know which packages they will need to install, what versions and on which operating systems the code was executed. For instance, here is the output of <code>sessionInfo()</code> showing the R version and packages that I used to create this document:</p>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 3.6.1 (2019-07-05)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS Mojave 10.14.6
## 
## Matrix products: default
## BLAS:   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] kableExtra_1.2.1     dplyr_1.0.2          kfigr_1.2           
##  [4] devtools_2.3.2       usethis_2.0.0        formatR_1.7         
##  [7] knitcitations_1.0.10 bookdown_0.21        rmarkdown_2.6       
## [10] knitr_1.30          
## 
## loaded via a namespace (and not attached):
##  [1] tidyselect_1.1.0  xfun_0.20         remotes_2.2.0     purrr_0.3.4      
##  [5] colorspace_2.0-0  generics_0.1.0    vctrs_0.3.6       testthat_3.0.1   
##  [9] viridisLite_0.3.0 htmltools_0.5.0   yaml_2.2.1        rlang_0.4.10     
## [13] pkgbuild_1.2.0    pillar_1.4.7      glue_1.4.2        withr_2.3.0      
## [17] sessioninfo_1.1.1 lifecycle_0.2.0   plyr_1.8.6        stringr_1.4.0    
## [21] munsell_0.5.0     rvest_0.3.6       memoise_1.1.0     evaluate_0.14    
## [25] callr_3.5.1       ps_1.5.0          fansi_0.4.1       highr_0.8        
## [29] Rcpp_1.0.6        scales_1.1.1      desc_1.2.0        pkgload_1.1.0    
## [33] webshot_0.5.2     jsonlite_1.7.2    fs_1.5.0          digest_0.6.27    
## [37] stringi_1.5.3     processx_3.4.5    rprojroot_2.0.2   bibtex_0.4.2.3   
## [41] cli_2.2.0         tools_3.6.1       magrittr_2.0.1    tibble_3.0.4     
## [45] RefManageR_1.2.12 crayon_1.3.4      pkgconfig_2.0.3   ellipsis_0.3.1   
## [49] xml2_1.3.2        prettyunits_1.1.1 lubridate_1.7.9.2 assertthat_0.2.1 
## [53] httr_1.4.2        rstudioapi_0.13   R6_2.5.0          compiler_3.6.1</code></pre>
<p>I have also used the approach described above to add this information in <a href="#appendix-2">Appendix 2</a>.</p>
</div>
</div>
<div id="all-set-good-to-go" class="section level3" number="1.3.4">
<h3><span class="header-section-number">1.3.4</span> All set, good to go!</h3>
<p>We have now set our R Markdown environment and can start populating it! This means that you will be inserting your text and other code chunks directly under the <code>packages</code> code chunk. The <a href="#references">References</a> section constitutes the end of the main body of your document. If you want to add Appendices, do so under <a href="#appendix-1">Appendix 1</a>, appendices will be labelled differently from the main body of the document.</p>
</div>
<div id="insert-tables-and-figures-in-r-markdown-document" class="section level3" number="1.3.5">
<h3><span class="header-section-number">1.3.5</span> Insert tables and figures in R Markdown document</h3>
<div id="tables" class="section level4" number="1.3.5.1">
<h4><span class="header-section-number">1.3.5.1</span> Tables</h4>
<p>There will be more details about figures in chapter 9; however this tutorial introduces key concepts related to table making in R Markdown, more specifically on the following topics:</p>
<ul>
<li>Creating a table in R.</li>
<li>Assigning a table caption.</li>
<li>Providing a unique label to the R code chunk allowing further cross-referencing in the text.</li>
<li>Displaying the table in the document.</li>
</ul>
<div id="step-by-step-protocol" class="section level5" number="1.3.5.1.1">
<h5><span class="header-section-number">1.3.5.1.1</span> Step-by-step protocol</h5>
<p>Here, you will learn the R Markdown syntax and R code required to replicate the grading scale presented in the Syllabus (see Table <a href="#tab:tabgrades">1.1</a>):</p>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:tabgrades">Table 1.1: </span>Grading scale applied in this class.
</caption>
<thead>
<tr>
<th style="text-align:left;">
Percentage
</th>
<th style="text-align:left;">
Grade
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
100-98
</td>
<td style="text-align:left;">
A+
</td>
</tr>
<tr>
<td style="text-align:left;">
97.9-93
</td>
<td style="text-align:left;">
A
</td>
</tr>
<tr>
<td style="text-align:left;">
92.9-90
</td>
<td style="text-align:left;">
A-
</td>
</tr>
<tr>
<td style="text-align:left;">
89.9-88
</td>
<td style="text-align:left;">
B+
</td>
</tr>
<tr>
<td style="text-align:left;">
87.9-83
</td>
<td style="text-align:left;">
B
</td>
</tr>
<tr>
<td style="text-align:left;">
82.9-80
</td>
<td style="text-align:left;">
B-
</td>
</tr>
<tr>
<td style="text-align:left;">
79.9-78
</td>
<td style="text-align:left;">
C+
</td>
</tr>
<tr>
<td style="text-align:left;">
77.9-73
</td>
<td style="text-align:left;">
C
</td>
</tr>
<tr>
<td style="text-align:left;">
72.9-70
</td>
<td style="text-align:left;">
C-
</td>
</tr>
<tr>
<td style="text-align:left;">
69.9-68
</td>
<td style="text-align:left;">
D+
</td>
</tr>
<tr>
<td style="text-align:left;">
67.9-60
</td>
<td style="text-align:left;">
D
</td>
</tr>
<tr>
<td style="text-align:left;">
59.9-0
</td>
<td style="text-align:left;">
F
</td>
</tr>
</tbody>
</table>
<ol style="list-style-type: decimal">
<li>Use the same <code>.Rmd</code> document as above to practice working with tables.</li>
<li>Add a first-level header entitled <code>Tables</code>.</li>
<li>Insert an R code chunk under your header by clicking on the <code>Insert</code> button <img src="Figures/insert.png" /> in the editor toolbar.</li>
<li>Write the following R code in the code chunk:</li>
</ol>
<pre class="r"><code>grades &lt;- data.frame(Percentage = c(&quot;100-98&quot;, &quot;97.9-93&quot;, &quot;92.9-90&quot;, 
    &quot;89.9-88&quot;, &quot;87.9-83&quot;, &quot;82.9-80&quot;, &quot;79.9-78&quot;, &quot;77.9-73&quot;, &quot;72.9-70&quot;, 
    &quot;69.9-68&quot;, &quot;67.9-60&quot;, &quot;59.9-0&quot;), Grade = c(&quot;A+&quot;, &quot;A&quot;, &quot;A-&quot;, 
    &quot;B+&quot;, &quot;B&quot;, &quot;B-&quot;, &quot;C+&quot;, &quot;C&quot;, &quot;C-&quot;, &quot;D+&quot;, &quot;D&quot;, &quot;F&quot;))
knitr::kable(grades, caption = &quot;Grading scale applied in this class.&quot;) %&gt;% 
    kable_styling(c(&quot;striped&quot;, &quot;scale_down&quot;))</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Edit the code chunk options line by adding the following arguments (each argument should be separated by a comma):</li>
</ol>
<ul>
<li><code>echo=FALSE</code></li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>Add the unique label <code>tabgrades</code> in the chunk options line (just after <code>{r</code>) to enable further cross-referencing.</li>
<li>Test your code to check that it produces the expected table (using the <code>Run</code> button).</li>
<li>Knit your document using the <code>Knit</code> button <img src="Figures/knit_2.png" /> on the editor toolbar (remember to select your output format; Figure <a href="#fig:knitout">1.8</a>).</li>
</ol>
</div>
</div>
<div id="figures" class="section level4" number="1.3.5.2">
<h4><span class="header-section-number">1.3.5.2</span> Figures</h4>
<p>There will be more details about figures in chapter 10; however this tutorial introduces key concepts related to figure making in R Markdown, more specifically on the following topics:</p>
<ul>
<li>Creating a figure in R (based on the <code>cars</code> dataset; Figure <a href="#fig:cars">1.9</a>).</li>
<li>Assigning a figure caption.</li>
<li>Providing a unique label to the R code chunk allowing further cross-referencing in the text.</li>
<li>Displaying the figure in the document.</li>
</ul>
<div class="figure"><span id="fig:cars"></span>
<img src="Chapters_files/figure-html/cars-1.png" alt="Plot of cars' speed in relation to distance." width="100%" />
<p class="caption">
Figure 1.9: Plot of cars’ speed in relation to distance.
</p>
</div>
<div id="step-by-step-protocol-1" class="section level5" number="1.3.5.2.1">
<h5><span class="header-section-number">1.3.5.2.1</span> Step-by-step protocol</h5>
<p>Here, you will learn the R Markdown syntax and R code required to replicate Figure <a href="#fig:cars">1.9</a>:</p>
<ol style="list-style-type: decimal">
<li>Use the same <code>.Rmd</code> document as above to practice working with figures.</li>
<li>Add a first-level header entitled <code>Figures</code>.</li>
<li>Insert an R code chunk under your header by clicking on the <code>Insert</code> button <img src="Figures/insert.png" /> in the editor toolbar.</li>
<li>Write the following R code in the code chunk:</li>
</ol>
<pre class="r"><code>summary(cars)
plot(cars)</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Edit the code chunk options line by adding the following arguments (each argument should be separated by a comma):</li>
</ol>
<ul>
<li><code>echo=FALSE</code></li>
<li><code>results="hide"</code></li>
<li><code>fig.cap="Plot of cars' speed in relation to distance."</code></li>
<li><code>out.width = '100%'</code></li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>Add the unique label <code>cars</code> in the chunk options line (just after <code>{r</code>) to enable further cross-referencing.</li>
<li>Test your code to check that it produces the expected plot (using the <code>Run</code> button).</li>
<li>Knit your document using the <code>Knit</code> button <img src="Figures/knit_2.png" /> on the editor toolbar (remember to select your output format; Figure <a href="#fig:knitout">1.8</a>).</li>
</ol>
</div>
</div>
</div>
<div id="cross-reference-tables-and-figures-in-the-text" class="section level3" number="1.3.6">
<h3><span class="header-section-number">1.3.6</span> Cross-reference tables and figures in the text</h3>
<p>Cross-referencing tables and figures in the main body of your R Markdown document can easily be done using the <code>\@ref()</code> function implemented in the <em>bookdown</em> package.</p>
<div id="general-syntax" class="section level4" number="1.3.6.1">
<h4><span class="header-section-number">1.3.6.1</span> General syntax</h4>
<p>The general syntax is as follows:</p>
<pre class="r"><code># Cross-referencing tables in main body of text
\@ref(tab:code_chunk_ID)

# Cross-referencing figures in main body of text
\@ref(fig:code_chunk_ID)</code></pre>
</div>
<div id="step-by-step-procedure-3" class="section level4" number="1.3.6.2">
<h4><span class="header-section-number">1.3.6.2</span> Step-by-step procedure</h4>
<p>To cross-reference the <code>tabgrades</code> table type:</p>
<p><code>\@ref(tab:tabgrades)</code>, which translates into <a href="#tab:tabgrades">1.1</a>.</p>
<p>To cross-reference the <code>cars</code> figure type:</p>
<p><code>\@ref(fig:cars)</code>, which translates into <a href="#fig:cars">1.9</a>.</p>
<p>Note the this syntax doesn’t automatically include the <code>Table</code> or <code>Figure</code> handles in front of the cross-reference. You will have to manually add <code>Table</code> or <code>Figure</code> in front of your <code>\@ref()</code> function.</p>
</div>
</div>
<div id="citing-references-in-text-and-adding-a-bibliographyreferences-section" class="section level3" number="1.3.7">
<h3><span class="header-section-number">1.3.7</span> Citing references in text and adding a bibliography/references section</h3>
<div id="the-bibliography-file" class="section level4" number="1.3.7.1">
<h4><span class="header-section-number">1.3.7.1</span> The bibliography file</h4>
<p>To cite references in the R Markdown document those have to be saved in a bibliography file using the <code>BibTeX</code> format. Other formats can be used, but the <code>BibTeX</code> format is open-source and easy to edit. Please see this webpage for more details on other formats: <a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html" class="uri">https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html</a></p>
<p>Most journals allow saving citation of publications directly in <code>BibTeX</code> format, but when this feature is not available formats can be converted using online services (e.g. EndNote to BibTeX: <a href="https://www.bruot.org/ris2bib/" class="uri">https://www.bruot.org/ris2bib/</a>).</p>
<div id="procedure-to-do-prior-to-citing-references-in-an-r-markdown-document" class="section level5" number="1.3.7.1.1">
<h5><span class="header-section-number">1.3.7.1.1</span> Procedure to do prior to citing references in an R Markdown document</h5>
<ol style="list-style-type: decimal">
<li>Save all your <code>BibTeX</code> references in a text file and make sure to add the <code>.bib</code> extension.</li>
<li>This file has to be deposited in the same folder as your <code>.Rmd</code> file.</li>
<li>You will be inserting the name of your references file in the <a href="#yaml-metadata-section">YAML metadata section</a>.</li>
<li>You can visit this <a href="https://academic.oup.com/botlinnean/article/186/4/435/4736317?searchresult=1">webpage</a> and click on the <code>Cite</code> icon to download a citation in <code>.bibtex</code> format. More details on the <code>BibTeX</code> format is provided below.</li>
<li>References formatted in <code>BibTeX</code> format are available in associated file:</li>
</ol>
<ul>
<li><code>Bibliography_Reproducible_Science_2.bib</code>.</li>
</ul>
</div>
</div>
<div id="specifying-a-bibliography-in-the-r-markdown-file" class="section level4" number="1.3.7.2">
<h4><span class="header-section-number">1.3.7.2</span> Specifying a bibliography in the R Markdown file</h4>
<p>The Pandoc program can automatically generate citations in the text and a bibliography/references section following various journal styles. In order to use this feature, you need to specify a bibliography file in the <a href="#yaml-metadata-section">YAML metadata section</a>.</p>
</div>
<div id="bibtex-format" class="section level4" number="1.3.7.3">
<h4><span class="header-section-number">1.3.7.3</span> BibTeX format</h4>
<p>Please find below an example of a reference formatted in <code>BibTeX</code> format:</p>
<pre class="r"><code># Example of BibTex format for Baker (2016) published in Nature
@Article{Baker_2016,
  doi = {10.1038/533452a},
  url = {https://doi.org/10.1038/533452a},
  year = {2016},
  month = {may},
  publisher = {Springer Nature},
  volume = {533},
  number = {7604},
  pages = {452--454},
  author = {Monya Baker},
  title = {1,500 scientists lift the lid on reproducibility},
  journal = {Nature},
}</code></pre>
</div>
<div id="citation-identifier" class="section level4" number="1.3.7.4">
<h4><span class="header-section-number">1.3.7.4</span> Citation identifier</h4>
<p>The unique citation identifier of a reference (<code>Baker_2016</code> in the example above) is set by the user in the <code>BibTeX</code> citation file (see first line in the example provided above). This unique identifier is used to refer to the reference/publication in the R Markdown document and also allows citing references and generating the bibliography/references section.</p>
</div>
<div id="citing-references" class="section level4" number="1.3.7.5">
<h4><span class="header-section-number">1.3.7.5</span> Citing references</h4>
<p>Citations go inside square brackets (<code>[]</code>) and are separated by semicolons. Each citation must have a key, composed of <code>@</code> + the citation identifier (see above) as stored into the <code>BibTeX</code> file.</p>
<p>Please find below some examples on citation protocols:</p>
<pre class="r"><code>#Syntax
Blah blah [see @Baker_2016, pp. 33-35; also @Smith2016, ch. 1].
Blah blah [@Baker_2016; @Smith2016].</code></pre>
<p>Once knitted (using the <img src="Figures/knit_2.png" /> button), the above code/syntax turns into:</p>
<p>Blah blah <span class="citation">(see <a href="#ref-Baker_2016" role="doc-biblioref">Baker, 2016 pp. 33–35</a>; also <a href="#ref-Smith2016" role="doc-biblioref">Smith et al., 2016</a>, ch. 1)</span>.</p>
<p>Blah blah <span class="citation">(<a href="#ref-Baker_2016" role="doc-biblioref">Baker, 2016</a>; <a href="#ref-Smith2016" role="doc-biblioref">Smith et al., 2016</a>)</span>.</p>
<p>A minus sign (-) before the <code>@</code> will suppress mention of the author in the citation. This can be useful when the author is already mentioned in the text:</p>
<pre class="r"><code>#Syntax
Baker says blah blah [-@Baker_2016].</code></pre>
<p>Once knitted, the above code/syntax turns into:</p>
<p>Baker says blah blah <span class="citation">(<a href="#ref-Baker_2016" role="doc-biblioref">2016</a>)</span>.</p>
<p>You can also write an in-text citation, as follows:</p>
<pre class="r"><code>#Syntax
@Baker_2016 says blah.
@Baker_2016 [p. 1] says blah.</code></pre>
<p>Once knitted, the above code/syntax turns into:</p>
<p><span class="citation"><a href="#ref-Baker_2016" role="doc-biblioref">Baker</a> (<a href="#ref-Baker_2016" role="doc-biblioref">2016</a>)</span> says blah.</p>
<p><span class="citation"><a href="#ref-Baker_2016" role="doc-biblioref">Baker</a> (<a href="#ref-Baker_2016" role="doc-biblioref">2016 p. 1</a>)</span> says blah.</p>
<div id="practice-citing-references" class="section level5" number="1.3.7.5.1">
<h5><span class="header-section-number">1.3.7.5.1</span> Practice citing references</h5>
<p>Students have to use their <code>.Rmd</code> document to practice citing references in the text using procedures described above. To clearly define where you practice citing references, please do so under a <code>Citing references</code> header.</p>
</div>
</div>
</div>
<div id="adding-a-bibliographyreferences-section" class="section level3" number="1.3.8">
<h3><span class="header-section-number">1.3.8</span> Adding a bibliography/references section</h3>
<p>Upon knitting, a bibliography/references section will be automatically generated at the end of the document. Usually, we recommend adding a References header just after the last paragraph of the document as displayed below:</p>
<pre class="r"><code>last paragraph...

# References</code></pre>
<p>The bibliography will be inserted after this header (please see References section of this tutorial for more details).</p>
<div id="formatting-citations-to-journal-styles" class="section level4" number="1.3.8.1">
<h4><span class="header-section-number">1.3.8.1</span> Formatting citations to journal styles</h4>
<p>In this section, we are studying how your bibliography can be automatically formatted following a journal style. This is achieved by providing the name of a citation style file (containing the protocol to format citations and bibliography following a journal style) in the YAML metadata section.</p>
</div>
<div id="what-is-the-citation-style-language-csl" class="section level4" number="1.3.8.2">
<h4><span class="header-section-number">1.3.8.2</span> What is the citation style language (CSL)?</h4>
<p>The <strong>C</strong>itation <strong>S</strong>tyle <strong>L</strong>anguage (CSL) was developed by an open-source project and aims at facilitating scholarly publishing by automating the formatting of citations and bibliographies. This project has developed the CSL and maintains a crowd sourced repository with over 8000 free CSL citation styles. Please see the following website for more details: <a href="https://citationstyles.org" class="uri">https://citationstyles.org</a></p>
</div>
<div id="csl-repositories" class="section level4" number="1.3.8.3">
<h4><span class="header-section-number">1.3.8.3</span> CSL repositories</h4>
<p>There are two main CSL repositories:</p>
<ul>
<li><strong>GitHub Repository:</strong> <a href="https://github.com/citation-style-language/styles" class="uri">https://github.com/citation-style-language/styles</a></li>
<li><strong>Zotero Style Repository:</strong> <a href="https://www.zotero.org/styles" class="uri">https://www.zotero.org/styles</a></li>
</ul>
</div>
<div id="how-to-use-a-csl-file-in-an-r-markdown-to-format-citations-and-bibliography" class="section level4" number="1.3.8.4">
<h4><span class="header-section-number">1.3.8.4</span> How to use a CSL file in an R Markdown to format citations and bibliography?</h4>
<p>Please follow the steps below to format your citations and bibliography following the citation style provided in a CSL file:</p>
<ol style="list-style-type: decimal">
<li>Download the CSL file using repositories provided above. Some journals provide their CSL files on their websites (one has been made available for you to use in the associated files: <code>AmJBot.csl</code>).</li>
<li>Save the CSL file in the same working directory as the <code>.Rmd</code> file.</li>
<li>Edit the YAML metadata section as follows to specify the CSL file:</li>
</ol>
<pre class="r"><code># Add a &quot;csl&quot; argument and provide name of the CSL file (here AmJBot.csl) 
---
title: &quot;Sample Document&quot;
output:
  bookdown::html_document2: 
    toc: TRUE
  bookdown::pdf_document2:
    toc: TRUE
bibliography: bibliography.bib
csl: AmJBot.csl
---</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Knit the R Markdown document using the <code>Knit</code> <img src="Figures/knit_2.png" /> button. The Pandoc program will use the information stored in the YAML metadata section to format the bibliography (citations and bibliography section) following the citation style provided in the CSL file. Do not forget to add a <code>References</code> header at the end of your <code>.Rmd</code> document.</li>
</ol>
</div>
</div>
</div>
<div id="part-c-advanced-r-and-r-markdown-settings" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> PART C: Advanced R and R Markdown settings</h2>
<div id="learning-outcomes-2" class="section level3" number="1.4.1">
<h3><span class="header-section-number">1.4.1</span> Learning outcomes</h3>
<p>This tutorial is devoted to part C of chapter 1 and provides students with opportunities to learn procedures to:</p>
<ul>
<li>Set your working directory.</li>
<li>Set global options for code chunks related to:
<ul>
<li>text,</li>
<li>code decoration,</li>
<li>caching,</li>
<li>plots (output format and resolution),</li>
<li>positioning figures (close to associated code chunks).</li>
</ul></li>
</ul>
</div>
<div id="associated-files-supporting-this-tutorial-1" class="section level3" number="1.4.2">
<h3><span class="header-section-number">1.4.2</span> Associated files supporting this tutorial</h3>
<p>Please refer to <a href="#Files">section</a> for more details on supporting files and their locations on the shared Google Drive.</p>
</div>
<div id="set-your-working-directory" class="section level3" number="1.4.3">
<h3><span class="header-section-number">1.4.3</span> Set your working directory</h3>
<p>Unlike R scripts where you have to set your working directory or provide the path to your files, the approach implemented in R Markdown document (<code>.Rmd</code>) automatically sets your working directory to the location of your <code>.Rmd</code> file. This procedure is done by <code>knitr</code> functions. <code>knitr</code> expects all declared files to be located in the same path as your <code>.Rmd</code> file or in a subfolder within this working directory. The main reason for this approach is to maximize portability of your R Markdown project, which is usually composed of a set of files (see Figure <a href="#fig:projstr">1.10</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:projstr"></span>
<img src="Figures/Project_structure.png" alt="Snapshot of the project structure associated to part C of Chapter 1. External figures used in the document are in Figures, whereas those generated by the document are saved in Figures MS." width="100%" />
<p class="caption">
Figure 1.10: Snapshot of the project structure associated to part C of Chapter 1. External figures used in the document are in Figures, whereas those generated by the document are saved in Figures MS.
</p>
</div>
<div id="instructions-to-setup-your-working-directory" class="section level4" number="1.4.3.1">
<h4><span class="header-section-number">1.4.3.1</span> Instructions to setup your working directory</h4>
<p>Before knitting your document, you will be testing your code and this requires to set your working directory. The can be done in RStudio by clicking (see Figure <a href="#fig:setwd">1.11</a>):</p>
<p><code>Session --&gt; Set Working Directory --&gt; To Source File Location</code></p>
<div class="figure"><span id="fig:setwd"></span>
<img src="Figures/Setwkd.png" alt="Snapshot of RStudio showing procedure to set your working directory to allow testing your code prior to knitting." width="100%" />
<p class="caption">
Figure 1.11: Snapshot of RStudio showing procedure to set your working directory to allow testing your code prior to knitting.
</p>
</div>
</div>
</div>
<div id="set-global-options-for-code-chunks" class="section level3" number="1.4.4">
<h3><span class="header-section-number">1.4.4</span> Set global options for code chunks</h3>
<p>To improve code reproducibility and efficiency and to follow publication requirements, it is customed to include a “code chunk” at the beginning of your <code>.Rmd</code> file to set global options applying to the whole document. Those settings are related to the following elements of your code:</p>
<ul>
<li>text results.</li>
<li>code decoration.</li>
<li>caching code.</li>
<li>plots (or figures).</li>
<li>positioning figures.</li>
</ul>
<p>These general settings will be set using the <code>opts_chunk()</code> function implemented in <code>knitr</code> <span class="citation">(<a href="#ref-R-knitr" role="doc-biblioref">Xie, 2020b</a>)</span>. The following website contains valuable information on code chunk options:</p>
<ul>
<li><a href="https://yihui.name/knitr/options/" class="uri">https://yihui.name/knitr/options/</a></li>
</ul>
<div id="the-opts_chunkset-function" class="section level4" number="1.4.4.1">
<h4><span class="header-section-number">1.4.4.1</span> The opts_chunk$set() function</h4>
<p>The <code>knitr</code> function <code>opts_chunk$set()</code> is used to change the default global options in an <code>.Rmd</code> document.</p>
<p>Before starting, a few special notes should be known on the options:</p>
<ol style="list-style-type: decimal">
<li>Chunk options must be written in one line; no line breaks are allowed inside chunk options.</li>
<li>Avoid spaces and periods (<code>.</code>) in chunk labels and directory names.</li>
<li>All option values must be valid R expressions just like how we write function arguments.</li>
</ol>
<p>Here we will be discussing each part of the settings individually, but those will have to be merged into one code chunk in your document entitled <code>setup</code> (please see below for more details).</p>
</div>
<div id="text-results" class="section level4" number="1.4.4.2">
<h4><span class="header-section-number">1.4.4.2</span> Text results</h4>
<p>This section deals with settings related to text results generated by code chunks.</p>
<p>Please find below an example of options that could be applied across code chunks:</p>
<pre class="r"><code># Setup options for text results
opts_chunk$set(echo = TRUE, warning = TRUE, message = TRUE, include = TRUE)</code></pre>
<div id="explanations-of-the-text-results-options" class="section level5" number="1.4.4.2.1">
<h5><span class="header-section-number">1.4.4.2.1</span> Explanations of the text results options</h5>
<ul>
<li><code>echo = TRUE</code>: Include all R source codes in the output file.</li>
<li><code>warning = TRUE</code>: Preserve warnings (produced by <code>warning()</code>) in the output like we run R code in a terminal.</li>
<li><code>message = TRUE</code>: Preserve messages emitted by <code>message()</code> (similar to warning)</li>
<li><code>include = TRUE</code>: Include all chunk outputs in the final output document.</li>
</ul>
<p>If you want some of the text results to have different options, please adjust those in their specific code chunks. This comment is valid for all the other general settings.</p>
</div>
</div>
<div id="code-decoration" class="section level4" number="1.4.4.3">
<h4><span class="header-section-number">1.4.4.3</span> Code decoration</h4>
<p>This section deals with settings related to code decoration (i.e. how it is outputted in the final <code>pdf</code> document) generated by code chunks.</p>
<p>Please find below an example of options that could be applied across code chunks:</p>
<pre class="r"><code># Setup options for code decoration
opts_chunk$set(tidy = TRUE, tidy.opts = list(blank = FALSE, width.cutoff = 60), 
    highlight = TRUE)</code></pre>
<div id="explanations-of-the-code-decoration-options" class="section level5" number="1.4.4.3.1">
<h5><span class="header-section-number">1.4.4.3.1</span> Explanations of the code decoration options</h5>
<ul>
<li><code>tidy = TRUE</code>: Use <code>formatR::tidy_source()</code> to reformat the code. Please see <code>tidy.opts</code> below.</li>
<li><code>tidy.opts = list(blank = FALSE, width.cutoff = 60)</code>: This provides a list of options to be passed to the function determined by the <code>tidy</code> option. Here we format the code to avoid blank lines and with a width cutoff of 60 characters.</li>
<li><code>highlight = TRUE</code>: This highlights the source code.</li>
</ul>
</div>
</div>
<div id="caching-code" class="section level4" number="1.4.4.4">
<h4><span class="header-section-number">1.4.4.4</span> Caching code</h4>
<p>To compile your <code>.Rmd</code> document faster (especially if you have computing intensive tasks), you can cache the output of your code into files associated to each of your code chunks. This process allows compute intensive chunks to be saved and the output used later without being re-run.</p>
<p>The <em>knitr</em> package has options to only evaluate cached chunks when necessary, but this has to be set by users. Such procedure creates a unique MD5 digest (= a data storage technique) of each chunk to track when changes are present. When the option <code>cache=TRUE</code> (there are other, more granular settings; see below), the chunk will only be evaluated in the following scenarios:</p>
<ul>
<li>There are no cached results (either this is the first time running or the results were moved/deleted).</li>
<li>The code chunk has been modified.</li>
</ul>
<p>The following code allows implementing this procedure to your document:</p>
<pre class="r"><code># Setup options for code cache
opts_chunk$set(cache = 2, cache.path = &quot;cache/&quot;)</code></pre>
<div id="explanations-of-the-caching-code-options" class="section level5" number="1.4.4.4.1">
<h5><span class="header-section-number">1.4.4.4.1</span> Explanations of the caching code options</h5>
<ul>
<li>Besides <code>TRUE</code> and <code>FALSE</code> for the chunk option <code>cache</code>, advanced users can also consider more granular cache by using numeric values for <code>cache = 0, 1, 2, 3</code>. <code>0</code> means <code>FALSE</code>, and <code>3</code> is equivalent to <code>TRUE</code>. For <code>cache = 1</code>, the results of the computation are loaded from the cache, so the code is not evaluated again, but everything else is still executed, such the output hooks and saving recorded plots to files. For <code>cache = 2</code> (used here), it is very similar to <code>1</code>, and the only difference is that the recorded plots will not be re-saved to files when the plot files already exist, which might save some time when the plots are big.</li>
<li><code>cache.path = "cache/"</code>: Directory where cache files will be saved. You don’t have to create the directory before executing the code, it will be created automatically by <em>knitr</em>.</li>
</ul>
</div>
</div>
<div id="plots" class="section level4" number="1.4.4.5">
<h4><span class="header-section-number">1.4.4.5</span> Plots</h4>
<p>Plots are a major element of your research and they are at the core of your figures. We can take advantage of options implemented in the <code>knitr</code> package to output plots meeting publication requirements. This will save precious time during the writing phase of your research (= no need to fiddle with the size and resolution of figures to meet journal policies).</p>
<p>Please find below an example of options that could be applied across code chunks:</p>
<pre class="r"><code># Setup options for plots
opts_chunk$set(fig.path = &quot;Figures_MS/&quot;, dev = c(&quot;pdf&quot;, &quot;png&quot;), 
    dpi = 300)</code></pre>
<div id="explanations-of-the-caching-plots-options" class="section level5" number="1.4.4.5.1">
<h5><span class="header-section-number">1.4.4.5.1</span> Explanations of the caching plots options</h5>
<ul>
<li><code>fig.path = "Figures_MS/""</code>: Set directory to save figures generated by the R Markdown document. As above, this folder doesn’t need to exist prior to executing the code chunks. Files will be save based on code chunk title and assigned figure number.</li>
<li><code>dev = c('pdf', 'png')</code>: Save figures in both <code>pdf</code> and <code>png</code> formats.</li>
<li><code>dpi = 300</code>: The DPI (dots per inch) for bitmap devices (dpi * inches = pixels). Please look at publishing requirements to set this parameter appropriately.</li>
</ul>
<p>It is worth noting that you might be using external figures in your <code>.Rmd</code> document. To avoid confusions between figures generated by the <code>.Rmd</code> document and those coming from outside, it is best practice to have them saved in two different subfolders (see Figure <a href="#fig:projstr">1.10</a> for more details).</p>
</div>
<div id="additional-plots-options" class="section level5" number="1.4.4.5.2">
<h5><span class="header-section-number">1.4.4.5.2</span> Additional plots options</h5>
<p>Some journals have specific requirements on figure dimensions. You can easily set these by using the following option:</p>
<ul>
<li><code>fig.dim</code>: (NULL; numeric) if a numeric vector of length 2, it gives <code>fig.width</code> and <code>fig.height</code>, e.g., <code>fig.dim = c(5, 7)</code>.</li>
</ul>
</div>
</div>
<div id="positioning-figures" class="section level4" number="1.4.4.6">
<h4><span class="header-section-number">1.4.4.6</span> Positioning figures</h4>
<p>Positioning figures close to their code chunks is critical and can get sorted by adding another <code>opts_chunk$set()</code> code line in your <code>setup</code> R code chunk. This is done by invoking the <code>fig.pos</code> argument and setting it to <code>"H"</code>. <strong>Warning:</strong> Setting this argument might generate errors when documents are knitted as <code>pdf</code> documents. If it happens, please comment this line using <code>#</code> and knit again.</p>
<pre class="r"><code>## Locate figures as close as possible to requested position
## (=code)
opts_chunk$set(fig.pos = &quot;H&quot;)</code></pre>
</div>
</div>
<div id="applying-global-changes-to-all-code-chunks" class="section level3" number="1.4.5">
<h3><span class="header-section-number">1.4.5</span> Applying global changes to all code chunks</h3>
<p>In this section, we will collate all global settings discussed above into a code chunk entitled <code>setup</code>, which will be placed under the YAML metadata section. In addition to containing the global settings, it is advisable to also include a code section devoted to loading required R packages in the <code>setup</code> code chunk.</p>
<p>Please find below the code for the <code>setup</code> code chunk based on the options presented above:</p>
<pre class="r"><code># Load packages
## Add any packages specific to your code
library(&quot;knitr&quot;)
library(&quot;bookdown&quot;)
# Chunk options: see http://yihui.name/knitr/options/ ###
## Text results
opts_chunk$set(echo = TRUE, warning = TRUE, message = TRUE, include = TRUE)
## Code decoration
opts_chunk$set(tidy = TRUE, tidy.opts = list(blank = FALSE, width.cutoff = 60), 
    highlight = TRUE)
## Caching code
opts_chunk$set(cache = 2, cache.path = &quot;cache/&quot;)
## Plots
opts_chunk$set(fig.path = &quot;Figures_MS/&quot;, dev = c(&quot;pdf&quot;, &quot;png&quot;), 
    dpi = 300)
## Locate figures as close as possible to requested position
## (=code)
opts_chunk$set(fig.pos = &quot;H&quot;)</code></pre>
<div id="settings-of-the-setup-r-code-chunk" class="section level4" number="1.4.5.1">
<h4><span class="header-section-number">1.4.5.1</span> Settings of the <code>setup</code> R code chunk</h4>
<p>When inserting the above code into an R code chunk, please set the options of the chunk as follows:</p>
<ul>
<li><code>setup</code>: Unique ID of the code chunk.</li>
<li><code>include = FALSE</code>: Nothing will be written into the output document, but the code will be evaluated and plot files will be generated (if there are any plots in the chunk).</li>
<li><code>cache = FALSE</code>: Code chunk will not be cached (see above for more details).</li>
<li><code>message = FALSE</code>: Messages emitted by <code>message()</code> will not be preserved.</li>
</ul>
<p>Options (and their associated arguments) in the code chunk have to be separated by commas.</p>
</div>
</div>
<div id="an-exercise-to-work-on-learning-objectives" class="section level3" number="1.4.6">
<h3><span class="header-section-number">1.4.6</span> An exercise to work on learning objectives</h3>
<p>Please conduct the above exercise to get accustomed with the material presented in the tutorial. This exercise is divided into six steps as follows:</p>
<ol style="list-style-type: decimal">
<li>Open RStudio, create and save a <code>.Rmd</code> document (<strong>Tip:</strong> save the file in a new folder).</li>
<li>Set your working directory according to file location.</li>
<li>Insert an R code chunk (using the <code>Insert</code> <img src="Figures/insert.png" /> button) and entitle it <code>setup</code>. This code chunk will be used to define the global settings for the following options as implemented in the <code>opts_chunk$set()</code> function:</li>
</ol>
<ul>
<li>Text results.</li>
<li>Code decoration.</li>
<li>Caching code.</li>
<li>Plots.</li>
<li>Positioning of figures.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Use the R code provided below (which generates a plot) to learn more about the effect of global settings on code outputs.</li>
<li>Once the file is completed, compile your document using the <code>Knit</code> <img src="Figures/knit_2.png" /> button. Please pay attention to the outputs in your folder.</li>
<li>Use the <code>bookdown</code> <code>\@ref()</code> function to cite your figure/plot in the text.</li>
</ol>
</div>
<div id="an-r-code-to-generate-a-plot-cross-reference-it-in-text" class="section level3" number="1.4.7">
<h3><span class="header-section-number">1.4.7</span> An R code to generate a plot &amp; cross-reference it in text</h3>
<p>The R code provided below is associated to step 4 of the exercise and it produces the plot displayed in Figure <a href="#fig:PlotFig">1.12</a>.</p>
<div class="figure"><span id="fig:PlotFig"></span>
<img src="Chapters_files/figure-html/PlotFig-1.png" alt="Plot of y ~ x." width="672" />
<p class="caption">
Figure 1.12: Plot of y ~ x.
</p>
</div>
<p>To get there:</p>
<ol style="list-style-type: decimal">
<li>Insert an R code chunk (using the <code>Insert</code> <img src="Figures/insert.png" /> button) and set the following options and associated arguments:</li>
</ol>
<ul>
<li><code>Plot</code>: Unique ID of code chunk.</li>
<li><code>fig.cap="Plot of y ~ x."</code>: Figure caption.</li>
<li><code>fig.show="asis"</code>: Figure display.</li>
<li><code>out.width = '100%'</code>: Figure width on the page.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Enter the following R code in the code chunk.</li>
</ol>
<pre class="r"><code># Generate a set of observations (n=100) that have a normal
# distribution
x &lt;- rnorm(100)
# Add a small amount of noise to x to generate a new vector
# (y)
y &lt;- jitter(x, 1000)
# Plot y ~ x
plot(x, y)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Test your code to make sure it does what it is supposed to do (using the <code>Run</code> <img src="Figures/Run.png" /> button).</li>
<li>Go to step 5 in the above section and complete the exercise.</li>
</ol>
</div>
</div>
<div id="part-e-interactive-tutorials" class="section level2" number="1.5">
<h2><span class="header-section-number">1.5</span> PART E: Interactive tutorials</h2>
<p>The objective of this section is to provide students with some tools and ideas to design their bioinformatic tutorials (for PART 2). Here, students will have an overview of the tools implemented in the R package <a href="https://rstudio.github.io/learnr/index.html"><em>learnr</em></a>, which was developed to produce interactive tutorials. Although developed in R, the interactive tutorials are designed to be conducted in web browsers (but it could also be entirely done within RStudio).</p>
<p>The interactive tutorial presented here is subdivided into five topics:</p>
<ol style="list-style-type: decimal">
<li><strong>Introduction</strong>: This part sets the scene and provides some background information on the tutorial.</li>
<li><strong>Exercise</strong>: The aim of the exercise is presented together with a pseudocode (with associated R functions) outlying steps to design and implement an R code to complete the exercise. Students are asked to develop their R codes and execute them in the code chunk. You can type your code directly in the window/console and execute it using the <code>R Code</code> button. The instructor has also provided the solution to the exercise, which could be accessed by pressing the <code>Solution</code> button available in the top banner of the code chunk window.</li>
<li><strong>Questions</strong>: These questions are designed to test students’ knowledge of the code.</li>
<li><strong>Solution</strong>: A commented solution proposed by the instructor is available in a code chunk. Students can execute the code and inspect outputs produced to generate the final answer.</li>
<li><strong>YouTube tutorial</strong>: Here, a short YouTube video presents the procedure to launch a <em>learn</em> interactive tutorial and briefly presents the exercise. The main objective of this video is to show students that it is quite easy to integrate a video into their tutorials.</li>
</ol>
<p>Finally, the instructor wants to stress that students are not obliged to design their tutorials using <em>learnr</em>. You can also use the R Markdown language/syntax and output tutorials in HTML or PDF formats (more on this subject in Chapter 1).</p>
<p>This document highlights steps to execute the interactive tutorial designed by the instructor.</p>
<div id="installation-of-required-package" class="section level3" number="1.5.1">
<h3><span class="header-section-number">1.5.1</span> Installation of required package</h3>
<p>Open RStudio and install the <em>learnr</em> package from CRAN by typing the following command in the console:</p>
<pre class="r"><code>install.packages(&quot;learnr&quot;)</code></pre>
</div>
<div id="files-location-description" class="section level3" number="1.5.2">
<h3><span class="header-section-number">1.5.2</span> Files location &amp; description</h3>
<p>Files associated to this tutorial are deposited on the <a href="https://drive.google.com/drive/folders/1eZyjGQ478vaKiGD01hcryyNtdGp9t1J7?usp=sharing">Google Drive</a> under this path:
<code>Reproducible_Science -&gt; Bioinformatic_tutorials -&gt; Intro_interactive_tutorial</code></p>
<p>There are two main files:</p>
<ul>
<li><code>README.html</code>: The documentation to install R package and run interactive tutorial.</li>
<li><code>EEB603_Interactive_tutorial.Rmd</code>: The interactive tutorial written in R Markdown, but requiring functions from <em>learnr</em>.</li>
</ul>
</div>
<div id="youtube-video" class="section level3" number="1.5.3">
<h3><span class="header-section-number">1.5.3</span> YouTube video</h3>
<p>The instructor has made a video explaining the procedure to launch the interactive tutorial (based on option 1; see below) as well as some additional explanations related to the exercise.</p>
<ul>
<li><a href="https://youtu.be/ALSpVwymZbM" class="uri">https://youtu.be/ALSpVwymZbM</a></li>
</ul>
</div>
<div id="running-tutorial" class="section level3" number="1.5.4">
<h3><span class="header-section-number">1.5.4</span> Running tutorial</h3>
<ol style="list-style-type: decimal">
<li>Download the <code>Intro_interactive_tutorial</code> folder and save it on your local computer.</li>
<li>Set working directory to location of <code>EEB603_Interactive_tutorial.Rmd</code>.</li>
</ol>
<ul>
<li>This can be done as follows in RStudio: <code>Session -&gt; Set Working Directory -&gt; Choose Directory...</code>.</li>
<li>You can also use the <code>setwd()</code> function to set your working directory (e.g. <code>setwd("~/Documents/Course_Reproducible_Science/Timetable/Intro_interactive_tutorial")</code>).</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Running tutorial. There are two options to run the integrative tutorial:</li>
</ol>
<ul>
<li><strong>Option 1:</strong> Open <code>EEB603_Interactive_tutorial.Rmd</code> in RStudio and press the <code>Run Document</code> button on the upper side bar to launch the tutorial. It will appear in the <code>Viewer</code> panel (on right bottom corner). You can open the interactive tutorial in your web browser by clicking on the third icon at the top of the viewer panel. This procedure is also explained in the <a href="https://youtu.be/ALSpVwymZbM">Youtube video</a>.</li>
<li><strong>Option 2:</strong> Type the following command in the console. This will open a window in RStudio. You can also open the tutorial in your web browser by pressing the <code>Open in Browser</code> button.</li>
</ul>
<pre class="r"><code>rmarkdown::run(&quot;EEB603_Interactive_tutorial.Rmd&quot;)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Enjoy going through the tutorial!</li>
</ol>
</div>
<div id="learning-syntax-to-develop-interactive-tutorials" class="section level3" number="1.5.5">
<h3><span class="header-section-number">1.5.5</span> Learning syntax to develop interactive tutorials</h3>
<p>The procedure to develop interactive tutorials using <em>learnr</em> is presented <a href="https://rstudio.github.io/learnr/index.html">here</a>. To learn more about the syntax, the instructor encourages you to open <code>EEB603_Interactive_tutorial.Rmd</code> in RStudio and inspect the document. This will allow learning syntax and associated procedures to:</p>
<ul>
<li>Design exercises (with embedded R code chunks and associated solutions).</li>
<li>Include multiple choices questions.</li>
<li>Embed a YouTube video.</li>
</ul>
</div>
</div>
</div>
<div id="references" class="section level1" number="2">
<h1><span class="header-section-number">2</span> References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Baker_2016" class="csl-entry">
<span class="smallcaps">Baker, M.</span> 2016. 1,500 scientists lift the lid on reproducibility. <em>Nature</em> 533: 452–454. Available at: <a href="https://doi.org/10.1038/533452a">https://doi.org/10.1038/533452a</a>.
</div>
<div id="ref-Smith2016" class="csl-entry">
<span class="smallcaps">Smith, J.F.</span>, <span class="smallcaps">T.H. Parker</span>, <span class="smallcaps">S. Nakagawa</span>, <span class="smallcaps">J. Gurevitch</span>, <span class="smallcaps">Ecology</span>, and <span class="smallcaps">T.(Tools. for T. in Evolution) Working Group</span>. 2016. Promoting transparency in evolutionary biology and ecology. <em>Systematic Botany</em> 41: 495–497. Available at: <a href="http://www.bioone.org/doi/abs/10.1600/036364416X692262">http://www.bioone.org/doi/abs/10.1600/036364416X692262</a>.
</div>
<div id="ref-bookdown2016" class="csl-entry">
<span class="smallcaps">Xie, Y.</span> 2016. Bookdown: Authoring books and technical documents with <span>R</span> markdown. Chapman; Hall/CRC, Boca Raton, Florida. Available at: <a href="https://github.com/rstudio/bookdown">https://github.com/rstudio/bookdown</a>.
</div>
<div id="ref-R-bookdown" class="csl-entry">
<span class="smallcaps">Xie, Y.</span> 2020a. Bookdown: Authoring books and technical documents with r markdown. Available at: <a href="https://CRAN.R-project.org/package=bookdown">https://CRAN.R-project.org/package=bookdown</a>.
</div>
<div id="ref-knitr2015" class="csl-entry">
<span class="smallcaps">Xie, Y.</span> 2015. Dynamic documents with <span>R</span> and knitr. 2nd ed. Chapman; Hall/CRC, Boca Raton, Florida. Available at: <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>.
</div>
<div id="ref-R-knitr" class="csl-entry">
<span class="smallcaps">Xie, Y.</span> 2020b. Knitr: A general-purpose package for dynamic report generation in r. Available at: <a href="https://CRAN.R-project.org/package=knitr">https://CRAN.R-project.org/package=knitr</a>.
</div>
<div id="ref-rmarkdown2018" class="csl-entry">
<span class="smallcaps">Xie, Y.</span>, <span class="smallcaps">J.J. Allaire</span>, and <span class="smallcaps">G. Grolemund</span>. 2018. R markdown: The definitive guide. Chapman; Hall/CRC, Boca Raton, Florida. Available at: <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.
</div>
</div>
</div>
<div id="appendix-appendices" class="section level1 unnumbered">
<h1>Appendices</h1>
</div>
<div id="appendix-1" class="section level1" number="3">
<h1><span class="header-section-number">A</span> Appendix 1</h1>
<p>Citations of all R packages used to generate this report.</p>
<p>[1] J. Allaire, Y. Xie, J. McPherson, et al. <em>rmarkdown: Dynamic
Documents for R</em>. R package version 2.6. 2020. &lt;URL:
<a href="https://github.com/rstudio/rmarkdown" class="uri">https://github.com/rstudio/rmarkdown</a>&gt;.</p>
<p>[2] C. Boettiger. <em>knitcitations: Citations for Knitr Markdown Files</em>.
R package version 1.0.10. 2019. &lt;URL:
<a href="https://github.com/cboettig/knitcitations" class="uri">https://github.com/cboettig/knitcitations</a>&gt;.</p>
<p>[3] M. C. Koohafkan. <em>kfigr: Integrated Code Chunk Anchoring and
Referencing for R Markdown Documents</em>. R package version 1.2. 2015.
&lt;URL: <a href="https://github.com/mkoohafkan/kfigr" class="uri">https://github.com/mkoohafkan/kfigr</a>&gt;.</p>
<p>[4] R Core Team. <em>R: A Language and Environment for Statistical
Computing</em>. R Foundation for Statistical Computing. Vienna, Austria,
2019. &lt;URL: <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>&gt;.</p>
<p>[5] H. Wickham and J. Bryan. <em>usethis: Automate Package and Project
Setup</em>. R package version 2.0.0. 2020. &lt;URL:
<a href="https://CRAN.R-project.org/package=usethis" class="uri">https://CRAN.R-project.org/package=usethis</a>&gt;.</p>
<p>[6] H. Wickham, R. François, L. Henry, et al. <em>dplyr: A Grammar of
Data Manipulation</em>. R package version 1.0.2. 2020. &lt;URL:
<a href="https://CRAN.R-project.org/package=dplyr" class="uri">https://CRAN.R-project.org/package=dplyr</a>&gt;.</p>
<p>[7] H. Wickham, J. Hester, and W. Chang. <em>devtools: Tools to Make
Developing R Packages Easier</em>. R package version 2.3.2. 2020. &lt;URL:
<a href="https://CRAN.R-project.org/package=devtools" class="uri">https://CRAN.R-project.org/package=devtools</a>&gt;.</p>
<p>[8] Y. Xie. <em>bookdown: Authoring Books and Technical Documents with R
Markdown</em>. ISBN 978-1138700109. Boca Raton, Florida: Chapman and
Hall/CRC, 2016. &lt;URL: <a href="https://github.com/rstudio/bookdown" class="uri">https://github.com/rstudio/bookdown</a>&gt;.</p>
<p>[9] Y. Xie. <em>bookdown: Authoring Books and Technical Documents with R
Markdown</em>. R package version 0.21. 2020. &lt;URL:
<a href="https://github.com/rstudio/bookdown" class="uri">https://github.com/rstudio/bookdown</a>&gt;.</p>
<p>[10] Y. Xie. <em>Dynamic Documents with R and knitr</em>. 2nd. ISBN
978-1498716963. Boca Raton, Florida: Chapman and Hall/CRC, 2015. &lt;URL:
<a href="https://yihui.org/knitr/" class="uri">https://yihui.org/knitr/</a>&gt;.</p>
<p>[11] Y. Xie. <em>formatR: Format R Code Automatically</em>. R package version
1.7. 2019. &lt;URL: <a href="https://github.com/yihui/formatR" class="uri">https://github.com/yihui/formatR</a>&gt;.</p>
<p>[12] Y. Xie. “knitr: A Comprehensive Tool for Reproducible Research in
R.” In: <em>Implementing Reproducible Computational Research</em>. Ed. by V.
Stodden, F. Leisch and R. D. Peng. ISBN 978-1466561595. Chapman and
Hall/CRC, 2014. &lt;URL:
<a href="http://www.crcpress.com/product/isbn/9781466561595" class="uri">http://www.crcpress.com/product/isbn/9781466561595</a>&gt;.</p>
<p>[13] Y. Xie. <em>knitr: A General-Purpose Package for Dynamic Report
Generation in R</em>. R package version 1.30. 2020. &lt;URL:
<a href="https://yihui.org/knitr/" class="uri">https://yihui.org/knitr/</a>&gt;.</p>
<p>[14] Y. Xie, J. Allaire, and G. Grolemund. <em>R Markdown: The Definitive
Guide</em>. ISBN 9781138359338. Boca Raton, Florida: Chapman and Hall/CRC,
2018. &lt;URL: <a href="https://bookdown.org/yihui/rmarkdown" class="uri">https://bookdown.org/yihui/rmarkdown</a>&gt;.</p>
<p>[15] Y. Xie, C. Dervieux, and E. Riederer. <em>R Markdown Cookbook</em>. ISBN
9780367563837. Boca Raton, Florida: Chapman and Hall/CRC, 2020. &lt;URL:
<a href="https://bookdown.org/yihui/rmarkdown-cookbook" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook</a>&gt;.</p>
<p>[16] H. Zhu. <em>kableExtra: Construct Complex Table with kable and Pipe
Syntax</em>. R package version 1.2.1. 2020. &lt;URL:
<a href="https://CRAN.R-project.org/package=kableExtra" class="uri">https://CRAN.R-project.org/package=kableExtra</a>&gt;.</p>
</div>
<div id="appendix-2" class="section level1" number="4">
<h1><span class="header-section-number">B</span> Appendix 2</h1>
<p>Version information about R, the operating system (OS) and attached or R loaded packages. This appendix was generated using <code>sessionInfo()</code>.</p>
<pre><code>## R version 3.6.1 (2019-07-05)
## Platform: x86_64-apple-darwin15.6.0 (64-bit)
## Running under: macOS Mojave 10.14.6
## 
## Matrix products: default
## BLAS:   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] kableExtra_1.2.1     dplyr_1.0.2          kfigr_1.2           
##  [4] devtools_2.3.2       usethis_2.0.0        formatR_1.7         
##  [7] knitcitations_1.0.10 bookdown_0.21        rmarkdown_2.6       
## [10] knitr_1.30          
## 
## loaded via a namespace (and not attached):
##  [1] tidyselect_1.1.0  xfun_0.20         remotes_2.2.0     purrr_0.3.4      
##  [5] colorspace_2.0-0  generics_0.1.0    vctrs_0.3.6       testthat_3.0.1   
##  [9] viridisLite_0.3.0 htmltools_0.5.0   yaml_2.2.1        rlang_0.4.10     
## [13] pkgbuild_1.2.0    pillar_1.4.7      glue_1.4.2        withr_2.3.0      
## [17] sessioninfo_1.1.1 lifecycle_0.2.0   plyr_1.8.6        stringr_1.4.0    
## [21] munsell_0.5.0     rvest_0.3.6       memoise_1.1.0     evaluate_0.14    
## [25] callr_3.5.1       ps_1.5.0          fansi_0.4.1       highr_0.8        
## [29] Rcpp_1.0.6        scales_1.1.1      desc_1.2.0        pkgload_1.1.0    
## [33] webshot_0.5.2     jsonlite_1.7.2    fs_1.5.0          digest_0.6.27    
## [37] stringi_1.5.3     processx_3.4.5    rprojroot_2.0.2   bibtex_0.4.2.3   
## [41] cli_2.2.0         tools_3.6.1       magrittr_2.0.1    tibble_3.0.4     
## [45] RefManageR_1.2.12 crayon_1.3.4      pkgconfig_2.0.3   ellipsis_0.3.1   
## [49] xml2_1.3.2        prettyunits_1.1.1 lubridate_1.7.9.2 assertthat_0.2.1 
## [53] httr_1.4.2        rstudioapi_0.13   R6_2.5.0          compiler_3.6.1</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
